'use strict';(function(d){"function"===typeof define&&define.amd?define("jquery.validate.unobtrusive",["jquery-validation"],d):"object"===typeof module&&module.exports?module.exports=d(require("jquery-validation")):jQuery.validator.unobtrusive=d(jQuery)})(function(d){function h(a,b,c){a.rules[b]=c;a.message&&(a.messages[b]=a.message)}function q(a){return a.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function r(a){return a.substr(0,a.lastIndexOf(".")+1)}function t(a,b){0===a.indexOf("*.")&&
(a=a.replace("*.",b));return a}function w(a,b){b=d(this).find("[data-valmsg-for='"+q(b[0].name)+"']");var c=b.attr("data-valmsg-replace");c=c?!1!==d.parseJSON(c):null;b.removeClass("field-validation-valid").addClass("field-validation-error");a.data("unobtrusiveContainer",b);c?(b.empty(),a.removeClass("input-validation-error").appendTo(b)):a.hide()}function x(a,b){a=d(this).find("[data-valmsg-summary=true]");let c=a.find("ul");c&&c.length&&b.errorList.length&&(c.empty(),a.addClass("validation-summary-errors").removeClass("validation-summary-valid"),
d.each(b.errorList,function(){d("<li />").html(this.message).appendTo(c)}))}function y(a){let b=a.data("unobtrusiveContainer");if(b){var c=b.attr("data-valmsg-replace");c=c?d.parseJSON(c):null;b.addClass("field-validation-valid").removeClass("field-validation-error");a.removeData("unobtrusiveContainer");c&&b.empty()}}function z(a){a=d(this);if(!a.data("__jquery_unobtrusive_validation_form_reset")){a.data("__jquery_unobtrusive_validation_form_reset",!0);try{a.data("validator").resetForm()}finally{a.removeData("__jquery_unobtrusive_validation_form_reset")}a.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors");
a.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}}function u(a){let b=d(a),c=b.data("unobtrusiveValidation"),f=d.proxy(z,a),k=m.unobtrusive.options||{},l=function(e,n){(e=k[e])&&d.isFunction(e)&&e.apply(a,n)};c||(c={options:{errorClass:k.errorClass||"input-validation-error",errorElement:k.errorElement||"span",errorPlacement:function(){w.apply(a,arguments);l("errorPlacement",
arguments)},invalidHandler:function(){x.apply(a,arguments);l("invalidHandler",arguments)},messages:{},rules:{},success:function(){y.apply(a,arguments);l("success",arguments)}},attachValidation:function(){b.off("reset.unobtrusiveValidation",f).on("reset.unobtrusiveValidation",f).validate(this.options)},validate:function(){b.validate();return b.valid()}},b.data("unobtrusiveValidation",c));return c}let m=d.validator,g;m.unobtrusive={adapters:[],parseElement:function(a,b){let c=d(a),f=c.parents("form")[0],
k,l,e;f&&(k=u(f),k.options.rules[a.name]=l={},k.options.messages[a.name]=e={},d.each(this.adapters,function(){let n="data-val-"+this.name,p=c.attr(n),v={};void 0!==p&&(n+="-",d.each(this.params,function(){v[this]=c.attr(n+this)}),this.adapt({element:a,form:f,message:p,params:v,rules:l,messages:e}))}),d.extend(l,{__dummy__:!0}),b||k.attachValidation())},parse:function(a){a=d(a);let b=a.parents().addBack().filter("form").add(a.find("form")).has("[data-val=true]");a.find("[data-val=true]").each(function(){m.unobtrusive.parseElement(this,
!0)});b.each(function(){let c=u(this);c&&c.attachValidation()})}};g=m.unobtrusive.adapters;g.add=function(a,b,c){c||(c=b,b=[]);this.push({name:a,params:b,adapt:c});return this};g.addBool=function(a,b){return this.add(a,function(c){h(c,b||a,!0)})};g.addMinMax=function(a,b,c,f,k,l){return this.add(a,[k||"min",l||"max"],function(e){let n=e.params.min,p=e.params.max;n&&p?h(e,f,[n,p]):n?h(e,b,n):p&&h(e,c,p)})};g.addSingleVal=function(a,b,c){return this.add(a,[b||"val"],function(f){h(f,c||a,f.params[b])})};
m.addMethod("__dummy__",function(a,b,c){return!0});m.addMethod("regex",function(a,b,c){return this.optional(b)?!0:(b=(new RegExp(c)).exec(a))&&0===b.index&&b[0].length===a.length});m.addMethod("nonalphamin",function(a,b,c){let f;c&&(f=(f=a.match(/\W/g))&&f.length>=c);return f});m.methods.extension?(g.addSingleVal("accept","mimtype"),g.addSingleVal("extension","extension")):g.addSingleVal("extension","extension","accept");g.addSingleVal("regex","pattern");g.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");
g.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range");g.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength");g.add("equalto",["other"],function(a){var b=r(a.element.name);b=t(a.params.other,b);b=d(a.form).find(":input").filter("[name='"+q(b)+"']")[0];h(a,"equalTo",b)});g.add("required",function(a){"INPUT"===a.element.tagName.toUpperCase()&&"CHECKBOX"===a.element.type.toUpperCase()||h(a,"required",!0)});g.add("remote",["url",
"type","additionalfields"],function(a){let b={url:a.params.url,type:a.params.type||"GET",data:{}},c=r(a.element.name);d.each((a.params.additionalfields||a.element.name).replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g),function(f,k){let l=t(k,c);b.data[l]=function(){let e=d(a.form).find(":input").filter("[name='"+q(l)+"']");return e.is(":checkbox")?e.filter(":checked").val()||e.filter(":hidden").val()||"":e.is(":radio")?e.filter(":checked").val()||"":e.val()}});h(a,"remote",b)});g.add("password",["min",
"nonalphamin","regex"],function(a){a.params.min&&h(a,"minlength",a.params.min);a.params.nonalphamin&&h(a,"nonalphamin",a.params.nonalphamin);a.params.regex&&h(a,"regex",a.params.regex)});g.add("fileextensions",["extensions"],function(a){h(a,"extension",a.params.extensions)});d(function(){m.unobtrusive.parse(document)});return m.unobtrusive});